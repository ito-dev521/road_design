# 🛣️ 道路詳細設計管理システム

エックスサーバー対応のPHP+MySQL Webアプリケーションで、道路設計作業の進捗管理を効率化します。

## ✨ 主要機能

### 📊 プロジェクト管理
- 複数プロジェクトの並行管理
- プロジェクト基本情報（発注者、期間、ステータス）
- リアルタイム進捗統計

### 📋 タスク管理
**3つのフェーズで30のタスクを体系的に管理**

- **フェーズ1**: データ入力・整理段階（12タスク）
  - 現地踏査、既存図面収集、測量データ整理 など
  
- **フェーズ2**: 設計条件の整理（6タスク）
  - 道路構造基準選定、交差点計画、排水計画 など
  
- **フェーズ3**: 平面設計（12タスク）
  - 路線計画、線形計算、平面図作成 など

### 👥 ユーザー管理
- **管理者**: 全権限（プロジェクト管理、ユーザー管理）
- **技術者**: プロジェクト作成・タスク管理
- **一般スタッフ**: タスク実行・進捗更新

### 📈 進捗可視化
- 全体進捗バー
- フェーズ別完了状況
- 遅延タスクアラート
- 担当者別統計

## 🚀 技術スタック

- **フロントエンド**: HTML5, CSS3, バニラJavaScript
- **バックエンド**: PHP 8.x
- **データベース**: MySQL 8.x
- **サーバー**: エックスサーバー対応
- **認証**: セッションベース認証

## 📁 プロジェクト構成

```
road-design/
├── index.html              # メイン管理画面
├── login.html              # ログイン画面
├── config.php              # データベース設定
├── auth.php                # 認証システム
├── database.php            # データベース操作クラス
├── api.php                 # RESTful API エンドポイント
├── install.php             # 初期セットアップ（使用後削除）
├── session_check.php       # セッション管理ユーティリティ
├── .htaccess              # セキュリティ・リライト設定
├── database_schema.sql     # データベーススキーマ
├── DEPLOYMENT_GUIDE.md     # 詳細デプロイメントガイド
└── assets/
    ├── css/
    │   └── style.css       # レスポンシブスタイル
    ├── js/
    │   └── main.js         # メインアプリケーションロジック
    └── uploads/            # ファイルアップロード用
```

## 🔧 クイックスタート

### 1. システムインストール
```bash
# ファイルをエックスサーバーにアップロード
# https://ii-stylelab.com/road-design/install.php にアクセス
# 「インストール開始」をクリック
# install.php を削除
```

### 2. 初回ログイン
```
URL: https://ii-stylelab.com/road-design/
初期アカウント:
- 管理者: admin@ii-stylelab.com / admin123
- 技術者: tech@ii-stylelab.com / tech123  
- スタッフ: staff@ii-stylelab.com / staff123
```

### 3. プロジェクト開始
1. 「新規プロジェクト」でプロジェクト作成
2. 30個のタスクが自動生成
3. タスクに担当者・予定日を設定
4. 進捗を更新して管理開始

## 🛡️ セキュリティ機能

- セッションベース認証システム
- CSRF攻撃対策
- XSS・SQLインジェクション対策
- ファイルアップロード制限
- セッションタイムアウト管理
- 権限ベースアクセス制御

## 📱 レスポンシブデザイン

- デスクトップ・タブレット・スマートフォン対応
- タッチ操作最適化
- 直感的なユーザーインターフェース

## 🔌 API エンドポイント

### 認証
- `POST /api.php?path=login` - ログイン
- `POST /api.php?path=logout` - ログアウト
- `GET /api.php?path=check_auth` - 認証状態確認

### プロジェクト
- `GET /api.php?path=projects` - プロジェクト一覧取得
- `POST /api.php?path=projects` - プロジェクト作成
- `GET /api.php?path=projects/{id}` - プロジェクト詳細取得

### タスク
- `PUT /api.php?path=tasks/status` - タスクステータス更新
- `PUT /api.php?path=tasks/update` - タスク詳細更新

### その他
- `GET /api.php?path=users` - ユーザー一覧取得
- `GET /api.php?path=progress_report` - 進捗レポート取得

## 🗄️ データベーススキーマ

### 主要テーブル
- `users` - ユーザー情報・認証
- `projects` - プロジェクト管理
- `tasks` - タスク詳細・進捗
- `task_notes` - 作業メモ
- `project_history` - 変更履歴
- `system_settings` - システム設定

## 🚨 要件・制約

### システム要件
- PHP 8.0以上
- MySQL 8.0以上
- mod_rewrite対応Webサーバー
- JavaScript有効ブラウザ

### セキュリティ要件
- HTTPS環境推奨
- 定期的なデータベースバックアップ
- アクセスログ監視

## 📊 パフォーマンス

### 最適化機能
- データベースクエリ最適化
- 適切なインデックス設定
- JavaScript遅延読み込み
- CSS/JS圧縮対応

### スケーラビリティ
- 複数プロジェクト同時管理
- 大量タスクデータ対応
- マルチユーザー同時接続

## 🔄 開発・カスタマイズ

### 開発環境
```bash
# ローカル開発環境（XAMPP/MAMP等）
# MySQL接続情報を config.php で設定
# install.php でデータベース初期化
```

### カスタマイズポイント
- タスクテンプレート追加・変更
- 権限レベル調整
- UI/UXカスタマイズ
- レポート機能拡張

## 📝 ライセンス・サポート

### 利用条件
- ii-stylelab.com専用システム
- 既存Webサイトに影響なし
- 商用利用可

### サポート
詳細な設定・使用方法は `DEPLOYMENT_GUIDE.md` を参照してください。

---

## 🎯 プロジェクト目標

道路設計業務の **効率化** と **品質向上** を実現し、複雑な設計プロセスを **視覚的** で **直感的** に管理できるシステムを提供します。

**🚧 道路設計の未来を、デジタルで。**